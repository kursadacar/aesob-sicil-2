
@model CTD.Dto.SingleDto.PrintMakbuzDto

 @{ var pmm = Model; var aciklama = pmm.MakbuzAciklamasi; decimal toplamtutar = 0; foreach(var item in pmm.MakbuzKalemleri) { toplamtutar += Convert.ToDecimal(item.TUTAR); } }  <div class="col-md-12 tc mt10"> <a href="#" onclick='PrintFunctionKira("#printdivKira");' class="btn btn-lg btn-warning" title="Makbuz Yazdır"><i class="fa fa-print"></i> Yazdır</a> &nbsp;&nbsp;&nbsp; <a id="btnTemizleB" style="display:none" href="@Url.Action("Index", "Makbuz")" class="btn btn-lg btn-info" title="Temizle"><i class="fa fa-remove"></i> Temizle</a> </div>  <div id="printdivKira" style="display:none;"> <div style="margin: 0;font-family: Consolas, Courier New, Courier, monospace;"> <div style="position: absolute; top: 0; left: 2cm; text-align: center;"> ANTALYA<br /> ESNAF VE SANATKARLAR<br /> ODALARI BİRLİĞİ </div> <div style="text-align: left; position: absolute; top: 2.8cm; left: 3cm;"> <span>@aciklama</span> </div> <div style="position: absolute; left: 17cm; top: 4.2cm; text-align: left"> @DateTime.Now.ToShortDateString() </div> <table style="position: absolute; top: 7cm; left: 1.5cm; width:17cm;"> @foreach(var item in pmm.MakbuzKalemleri) { string satir = ""; if(item.MAKBUZ == true) { satir += @"<tr>" + Environment.NewLine + "<td style='text-align:left; height:0.5cm'>" + @item.ACIKLAMA + "</td>" + Environment.NewLine + "<td style='text-align:right; height:0.5cm; width:3cm;'>" + Convert.ToDecimal(@item.TUTAR).ToString("c") + "</td>" + Environment.NewLine + "</tr>"; } @Html.Raw(satir) } </table> <div style="position: absolute; top: 13.5cm; left: 1.5cm; text-align: left; display: block;"> <span id="spNot">NOT:@aciklama</span> </div> <div style="position: absolute; top:15.3cm; left:2.5cm; text-align:left;"> @{ if(toplamtutar != 0) { decimal? salePrice = toplamtutar; string sTutar = salePrice.ToString().Replace('.', ','); string lira = sTutar.Substring(0, sTutar.IndexOf(',')); string kurus = sTutar.Substring(sTutar.IndexOf(',') + 1, 2); string yazi = "";  string[] birler = { "", "bir", "iki", "üç", "dört", "beş", "altı", "yedi", "sekiz", "dokuz" }; string[] onlar = { "", "on", "yirmi", "otuz", "kırk", "elli", "altmış", "yetmiş", "seksen", "doksan" }; string[] binler = { "katrilyon", "trilyon", "milyar", "milyon", "bin", "" };  int grupSayisi = 6; lira = lira.PadLeft(grupSayisi * 3, '0'); string grupDegeri; for(int j = 0; j < grupSayisi * 3; j += 3) { grupDegeri = ""; if(lira.Substring(j, 1) != "0") { grupDegeri += birler[Convert.ToInt32(lira.Substring(j, 1))] + "yüz"; }  if(grupDegeri == "biryüz") { grupDegeri = "yüz"; } grupDegeri += onlar[Convert.ToInt32(lira.Substring(j + 1, 1))]; grupDegeri += birler[Convert.ToInt32(lira.Substring(j + 2, 1))]; if(grupDegeri != "") { grupDegeri += binler[j / 3]; } if(grupDegeri == "birbin") { grupDegeri = "bin"; } yazi += grupDegeri; } if(yazi != "") { yazi += " TL "; } int yaziUzunlugu = yazi.Length;  if(kurus.Substring(0, 1) != "0") { yazi += onlar[Convert.ToInt32(kurus.Substring(0, 1))]; } if(kurus.Substring(1, 1) != "0") { yazi += birler[Convert.ToInt32(kurus.Substring(1, 1))]; } if(yazi.Length > yaziUzunlugu) { yazi += "kuruş"; } <span> #@yazi# </span> }  } </div> <div style="position: absolute; top:15.3cm; left:17cm; text-align:left;"> @toplamtutar.ToString("c") </div> </div>  </div> 